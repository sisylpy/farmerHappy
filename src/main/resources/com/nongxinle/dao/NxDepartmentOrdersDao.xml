<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.nongxinle.dao.NxDepartmentOrdersDao">

    <select id="queryDisOrdersByParams" resultMap="applys">
        select * from nx_department_orders as dor
            left join nx_department_dis_goods as ddg on ddg.nx_department_dis_goods_id = dor.nx_DO_dep_dis_goods_id
         left join nx_distributer_goods as dg on dg.nx_distributer_goods_id = dor.nx_DO_dis_goods_id
          left join nx_department_user as du on du.nx_department_user_id = dor.nx_DO_order_user_id
           left join nx_department_independent_goods as ndig on ndig.nx_department_independent_goods_id = dor.nx_DO_ind_goods_id
        left join nx_department_standard as ds on ds.nx_DDS_dds_goods_id = ddg.nx_department_dis_goods_id
        <where>
            <if test="disId != null">
                and dor.nx_DO_distributer_id  = #{disId}
            </if>
            <if test="depFatherId != null">
                and dor.nx_DO_department_father_id  = #{depFatherId}
            </if>
            <if test="depId != null">
                and dor.nx_DO_department_id  = #{depId}
            </if>
            <if test="status != null">
                and  dor.nx_DO_status &lt; #{status}
            </if>
            <if test="onlyDate != null">
                and  dor.nx_DO_apply_only_date &gt; #{onlyDate}
            </if>
            <if test="goodsType != null">
                and  dor.nx_DO_goods_type = #{goodsType}
            </if>

        </where>


    </select>



    <select id="queryDistributerTodayOrders" resultMap="subDepartmentWithOrders">
        select  dor.nx_department_orders_id,
                dor.nx_DO_nx_goods_id,
                dor.nx_DO_order_user_id,
                dor.nx_DO_apply_date,
                dor.nx_DO_quantity,
                dor.nx_DO_standard,
                dor.nx_DO_remark,
                dor.nx_DO_status,
                dor.nx_DO_buy_status,
                dor.nx_DO_weight,
                dor.nx_DO_price,
                dor.nx_DO_subtotal,
                dor.nx_DO_apply_only_time,
                dor.nx_DO_apply_only_date,
                dor.nx_DO_nx_goods_father_id,
                dor.nx_DO_dis_goods_id,
                dor.nx_DO_dep_dis_goods_price,
                dor.nx_DO_department_id,
                dor.nx_DO_distributer_id,
                dor.nx_DO_is_agent,
                dg.nx_distributer_goods_id,
                dg.nx_dg_goods_name,
                dg.nx_dg_goods_brand,
                dg.nx_dg_goods_detail,
                dg.nx_dg_goods_place,
                dg.nx_dg_goods_standardname,

#                 ddg.nx_department_dis_goods_id,
#                ddg.nx_DG_dis_goods_name,
#                ddg.nx_DDG_dis_goods_detail,
#                ddg.nx_DDG_dis_goods_brand,
#                ddg.nx_DDG_dis_goods_place,
#                ddg.nx_DDG_dis_goods_standardname,
                ds.nx_department_id        'ds_nx_department_id',
                ds.nx_department_name      'ds_nx_department_name',
                ds.nx_department_type 'ds_nx_department_type',
                ds.nx_department_father_id 'ds_nx_department_father_id',
                ds.nx_department_is_group_dep 'ds_nx_department_is_group_dep'

        from nx_department_orders as dor
#                  left join nx_department_dis_goods as ddg on ddg.nx_department_dis_goods_id = dor.nx_DO_dep_dis_goods_id
                 left join nx_distributer_goods as dg on dg.nx_distributer_goods_id = dor.nx_DO_dis_goods_id
                 left join nx_department_user as du on du.nx_department_user_id = dor.nx_DO_order_user_id
                 left join nx_department_independent_goods as ndig on ndig.nx_department_independent_goods_id = dor.nx_DO_ind_goods_id
#                  left join nx_department_standard as dss on dss.nx_DDS_dds_goods_id = ddg.nx_department_dis_goods_id
                 left join nx_department as ds on ds.nx_department_id = dor.nx_DO_department_id
        where nx_DO_distributer_id = #{disId}
          and nx_DO_status &lt; 3 order by dg.nx_distributer_goods_id
    </select>



<!--    .....................................-->


    <select id="queryObject" resultType="com.nongxinle.entity.NxDepartmentOrdersEntity">
        select *
        from nx_department_orders
        where nx_department_orders_id = #{value}
    </select>

    <select id="queryList" resultType="com.nongxinle.entity.NxDepartmentOrdersEntity">
        select * from nx_department_orders
        <if test="offset != null and limit != null">
            limit #{offset}, #{limit}
        </if>
    </select>

    <select id="queryTotal" resultType="int">
        select count(*)
        from nx_department_orders
    </select>

    <resultMap id="nxGoods" type="NxGoodsEntity">
        <id property="nxGoodsId" column="nx_goods_id"/>
        <result property="nxGoodsName" column="nx_goods_name"/>
        <result property="nxGoodsDetail" column="nx_goods_detail"/>
        <result property="nxGoodsFile" column="nx_goods_file"/>
        <result property="nxGoodsStandardname" column="nx_goods_standardname"/>
        <result property="nxGoodsFatherId" column="nx_goods_father_id"/>
        <result property="nxGoodsStandardAmount" column="nx_goods_standard_amount"/>
        <result property="nxGoodsDetail" column="nx_goods_detail"/>
        <result property="nxGoodsPinyin" column="nx_goods_pinyin"/>
        <result property="nxGoodsPy" column="nx_goods_py"/>
    </resultMap>

    <resultMap id="orderUser" type="NxDepartmentUserEntity">
        <id property="nxDepartmentUserId" column="nx_department_user_id"/>
        <result property="nxDuWxNickName" column="nx_DU_wx_nick_name"/>
        <result property="nxDuWxAvartraUrl" column="nx_DU_wx_avartra_url"/>
        <result property="nxDuUrlChange" column="nx_DU_url_change"/>
    </resultMap>

    <resultMap id="fatherDepartment" type="NxDepartmentEntity">
        <id property="nxDepartmentId" column="dd_nx_department_id"/>
        <result property="nxDepartmentName" column="dd_nx_department_name"/>
        <result property="nxDepartmentType" column="nx_department_type"/>
        <result property="nxDepartmentFilePath" column="nx_department_file_path"/>
        <result property="nxDepartmentFatherId" column="nx_department_father_id"/>
        <result property="nxDepartmentIsGroupDep" column="nx_department_is_group_dep"/>
    </resultMap>
    <resultMap id="orderDepartment" type="NxDepartmentEntity">
        <id property="nxDepartmentId" column="nx_department_id"/>
        <result property="nxDepartmentName" column="nx_department_name"/>
        <result property="nxDepartmentType" column="nx_department_type"/>
        <result property="nxDepartmentFatherId" column="nx_department_father_id"/>
        <result property="nxDepartmentFilePath" column="nx_department_file_path"/>
        <result property="nxDepartmentIsGroupDep" column="nx_department_is_group_dep"/>

        <association property="fatherDepartmentEntity" resultMap="fatherDepartment"/>
    </resultMap>

    <resultMap id="depStandard" type="NxDepartmentStandardEntity">
        <id property="nxDepartmentStandardId" column="nx_department_standard_id"/>
        <result property="nxDdsStandardName" column="nx_DDS_standard_name"/>
    </resultMap>
    <resultMap id="depDisGoods" type="NxDepartmentDisGoodsEntity">
        <id property="nxDepartmentDisGoodsId" column="nx_department_dis_goods_id"/>
        <result property="nxDdgDepGoodsName" column="nx_DDG_dep_goods_name"/>
        <result property="nxDdgDepGoodsStandardname" column="nx_DDG_dep_goods_standardname"/>
        <result property="nxDdgDepGoodsBrand" column="nx_DDG_dep_goods_brand"/>
        <result property="nxDdgDepGoodsDetail" column="nx_DDG_dep_goods_detail"/>
        <result property="nxDdgDepGoodsPlace" column="nx_DDG_dep_goods_place"/>
        <result property="nxDdgDisGoodsId" column="nx_DDG_dis_goods_id"/>
<!--        <association property="nxDistributerGoodsEntity" resultMap="disGoods"/>-->
        <collection property="nxDepStandardEntities" resultMap="depStandard"/>

    </resultMap>
    <resultMap id="inDepGoods" type="NxDepartmentIndependentGoodsEntity">
        <id property="nxDepartmentIndependentGoodsId" column="nx_department_independent_goods_id"/>
        <result property="nxDigGoodsName" column="nx_DIG_goods_name"/>
        <result property="nxDigGoodsStandardname" column="nx_DIG_goods_standardname"/>
    </resultMap>

    <resultMap id="disGoods" type="NxDistributerGoodsEntity">
        <id property="nxDistributerGoodsId" column="nx_distributer_goods_id"/>
        <result property="nxDgGoodsName" column="nx_dg_goods_name"/>
        <result property="nxDgGoodsStandardname" column="nx_dg_goods_standardname"/>
        <result property="nxDgGoodsBrand" column="nx_dg_goods_brand"/>
        <result property="nxDgGoodsDetail" column="nx_dg_goods_detail"/>
        <result property="nxDgGoodsPlace" column="nx_dg_goods_place"/>
     </resultMap>

    <resultMap id="applys" type="NxDepartmentOrdersEntity">
        <id property="nxDepartmentOrdersId" column="nx_department_orders_id"/>
        <result property="nxDoNxGoodsId" column="nx_DO_nx_goods_id"/>
        <result property="nxDoOrderUserId" column="nx_DO_order_user_id"/>
        <result property="nxDoApplyDate" column="nx_DO_apply_date"/>
        <result property="nxDoApplyOnlyDate" column="nx_DO_apply_only_date"/>
        <result property="nxDoApplyOnlyTime" column="nx_DO_apply_only_time"/>
        <result property="nxDoQuantity" column="nx_DO_quantity"/>
        <result property="nxDoStandard" column="nx_DO_standard"/>
        <result property="nxDoRemark" column="nx_DO_remark"/>
        <result property="nxDoStatus" column="nx_DO_status"/>
        <result property="nxDoWeight" column="nx_DO_weight"/>
        <result property="nxDoPrice" column="nx_DO_price"/>
        <result property="nxDoSubtotal" column="nx_DO_subtotal"/>
        <result property="nxDoBuyStatus" column="nx_DO_buy_status"/>
        <result property="nxDoNxGoodsFatherId" column="nx_DO_nx_goods_father_id"/>
        <result property="nxDoDepartmentFatherId" column="nx_DO_department_father_id"/>
        <result property="nxDoDisGoodsId" column="nx_DO_dis_goods_id"/>
        <result property="nxDoDepDisGoodsPrice" column="nx_DO_dep_dis_goods_price"/>
        <result property="nxDoDepartmentId" column="nx_DO_department_id"/>
        <result property="nxDoDistributerId" column="nx_DO_distributer_id"/>
        <result property="nxDoBuyStatus" column="nx_DO_buy_status"/>
        <result property="nxDoGoodsType" column="nx_DO_goods_type"/>
        <result property="nxDoApplyOnlyDate" column="nx_DO_apply_only_date"/>
        <result property="nxDoOperationTime" column="nx_DO_operation_time"/>
        <result property="nxDoApplyWhatDay" column="nx_DO_apply_what_day"/>
        <result property="nxDoIsAgent" column="nx_DO_is_agent"/>
<!--        <association property="nxGoodsEntity" resultMap="nxGoods"/>-->
        <association property="nxDepIndependentGoodsEntity" resultMap="inDepGoods"/>
        <association property="nxDepartmentUserEntity" resultMap="orderUser"/>
        <association property="nxDistributerGoodsEntity" resultMap="disGoods"/>
        <association property="nxDepartmentDisGoodsEntity" resultMap="depDisGoods"/>
        <!--        <association property="nxDepartmentEntity" resultMap="orderDepartment"/>-->

        <!--        <association property="nxDepartmentGoodsEntity" resultMap="departmentGoods"/>-->
    </resultMap>


    <select id="disGetUnPlanPurchaseApplys" resultMap="applys">
        select *
        from nx_department_orders as o
                 left join nx_goods as g on g.nx_goods_id = o.nx_DO_nx_goods_id
        where o.nx_DO_distributer_id = #{disId} and nx_DO_buy_status = 0 and o.nx_DO_status &lt; 1;
    </select>


    <select id="disGetUnPlanPurchaseGoodsByFatherGoodsId" resultMap="applys">
        select o.nx_department_orders_id,
               o.nx_DO_nx_goods_id,
               o.nx_DO_order_user_id,
               o.nx_DO_apply_date,
               o.nx_DO_quantity,
               o.nx_DO_standard,
               o.nx_DO_remark,
               o.nx_DO_status,
               o.nx_DO_weight,
               o.nx_DO_subtotal,
               o.nx_DO_apply_only_time,
               o.nx_DO_apply_only_date,
               o.nx_DO_buy_status,
               o.nx_DO_nx_goods_father_id,
               o.nx_DO_department_father_id,
               o.nx_DO_dis_goods_id,
               o.nx_DO_dep_dis_goods_price,
               o.nx_DO_department_id,
               o.nx_DO_distributer_id,
               g.nx_goods_id,
               g.nx_goods_name,
               g.nx_goods_standardname,
               g.nx_goods_detail,
               g.nx_goods_brand,
               g.nx_goods_place,
               g.nx_goods_pinyin,
               g.nx_goods_py,
               g.nx_goods_father_id,
               g.nx_goods_sort,
               d.nx_department_id          'nx_department_id',
               d.nx_department_name        'nx_department_name',
               d.nx_department_father_id   'nx_department_father_id',
               d.nx_department_type        'nx_department_type',
               d.nx_department_sub_amount  'nx_department_sub_amount',
               d.nx_department_dis_id      'nx_department_dis_id',
               dd.nx_department_id         'dd_nx_department_id',
               dd.nx_department_name       'dd_nx_department_name',
               dd.nx_department_father_id  'dd_nx_department_father_id',
               dd.nx_department_type       'dd_nx_department_type',
               dd.nx_department_sub_amount 'dd_nx_department_sub_amount',
               dd.nx_department_dis_id     'dd_nx_department_dis_id'

        from nx_department_orders as o
                 left join nx_goods as g on g.nx_goods_id = o.nx_DO_nx_goods_id
                 left join nx_department as d on d.nx_department_id = o.nx_DO_department_id
                 left join nx_department as dd on d.nx_department_father_id = dd.nx_department_id
        where o.nx_DO_nx_goods_id = #{nxGoodsId} and o.nx_DO_status &lt; 1
    </select>


    <resultMap id="subDepartmentWithOrders" type="NxDepartmentEntity">
        <id property="nxDepartmentId" column="ds_nx_department_id"/>
        <result property="nxDepartmentName" column="ds_nx_department_name"/>
        <result property="nxDepartmentType" column="ds_nx_department_type"/>
        <result property="nxDepartmentFilePath" column="ds_nx_department_file_path"/>
        <result property="nxDepartmentFatherId" column="ds_nx_department_father_id"/>
        <result property="nxDepartmentIsGroupDep" column="ds_nx_department_is_group_dep"/>
        <collection property="nxDepartmentOrdersEntities" resultMap="applys"/>

    </resultMap>

    <resultMap id="departmentOrders" type="NxDepartmentEntity">
        <id property="nxDepartmentId" column="nx_department_id"/>
        <result property="nxDepartmentName" column="nx_department_name"/>
        <result property="nxDepartmentType" column="nx_department_type"/>
        <result property="nxDepartmentDisId" column="nx_department_dis_id"/>
        <result property="nxDepartmentSubAmount" column="nx_department_sub_amount"/>
        <result property="nxDepartmentFilePath" column="nx_department_file_path"/>
        <collection property="nxDepartmentEntities" resultMap="subDepartmentWithOrders"/>
    </resultMap>

    <select id="queryOrders" resultType="com.nongxinle.entity.NxDepartmentOrdersEntity">
        select * from nx_department_orders as o
        where
        <if test="disId != null">
            o.nx_DO_distributer_id = #{disId}
        </if>
        <if test="status != null">
            and o.nx_DO_status = #{status}
        </if>

        <if test="pickerUserId != null">
            and o.nx_DO_pick_user_id = #{pickerUserId}
        </if>
        order by o.nx_DO_apply_date

    </select>

     <resultMap id="depApplys" type="NxDepartmentEntity">

     </resultMap>
    <select id="queryKindsOfOrders" resultMap="applys">
        select o.nx_department_orders_id,
        o.nx_DO_nx_goods_id,
        o.nx_DO_order_user_id,
        o.nx_DO_apply_date,
        o.nx_DO_quantity,
        o.nx_DO_standard,
        o.nx_DO_remark,
        o.nx_DO_status,
        o.nx_DO_weight,
        o.nx_DO_price,
        o.nx_DO_subtotal,
        o.nx_DO_buy_status,
        o.nx_DO_apply_only_time,
        o.nx_DO_apply_only_date,
        o.nx_DO_nx_goods_father_id,
        o.nx_DO_department_father_id,
        o.nx_DO_dis_goods_id,
        o.nx_DO_dep_dis_goods_price,
        o.nx_DO_department_id,
        o.nx_DO_distributer_id,
        g.nx_goods_id,
        g.nx_goods_name,
        g.nx_goods_standardname,
        g.nx_goods_detail,
        g.nx_goods_brand,
        g.nx_goods_place,
        g.nx_goods_pinyin,
        g.nx_goods_py,
        g.nx_goods_father_id,
        g.nx_goods_sort,

        d.nx_department_id 'nx_department_id',
        d.nx_department_name 'nx_department_name',
        d.nx_department_type 'nx_department_type',
        d.nx_department_sub_amount 'nx_department_sub_amount',
        d.nx_department_dis_id 'nx_department_dis_id',
        d.nx_department_file_path 'nx_department_file_path'
        from nx_department_orders as o
        left join nx_department as d on o.nx_DO_department_father_id = d.nx_department_id
        left join nx_goods as g on g.nx_goods_id = o.nx_DO_nx_goods_id
#         left join nx_department_goods as dg on dg.nx_dg_nx_goods_id = g.nx_goods_id
        <where>
            <if test="disId != null">
                o.nx_DO_distributer_id = #{disId}
            </if>
            <if test="status != null">
                and o.nx_DO_status &lt;  #{status}
            </if>
            <if test="pickerUserId != null">
                and o.nx_DO_pick_user_id = #{pickerUserId}
            </if>
            <if test="fatherDepId != null">
                and o.nx_DO_department_father_id = #{fatherDepId}
            </if>
            <if test="depId != null">
                and o.nx_DO_department_id = #{depId}
            </if>
            <if test="type != null">
                and o.nx_DO_goods_type = #{type}
            </if>
        </where>
         order by o.nx_DO_nx_goods_id

    </select>

    <resultMap id="depOrders" type="NxDepartmentEntity">
        <id property="nxDepartmentId" column="nx_department_id"/>
        <result property="nxDepartmentName" column="nx_department_name"/>
        <collection property="nxDepartmentEntities" resultMap="subDepartmentWithOrders"/>

    </resultMap>



    <select id="queryDepartmentTodayOrders" resultMap="applys">
        select  o.nx_department_orders_id,
                o.nx_DO_nx_goods_id,
                o.nx_DO_order_user_id,
                o.nx_DO_apply_date,
                o.nx_DO_quantity,
                o.nx_DO_standard,
                o.nx_DO_remark,
                o.nx_DO_status,
                o.nx_DO_buy_status,
                o.nx_DO_weight,
                o.nx_DO_price,
                o.nx_DO_subtotal,
                o.nx_DO_apply_only_time,
                o.nx_DO_apply_only_date,
                o.nx_DO_nx_goods_father_id,
                o.nx_DO_department_father_id,
                o.nx_DO_dis_goods_id,
                o.nx_DO_dep_dis_goods_price,
                o.nx_DO_distributer_id,
                o.nx_DO_department_id,
                g.nx_goods_id,
                g.nx_goods_name,
                g.nx_goods_standardname,
                g.nx_goods_detail,
                g.nx_goods_brand,
                g.nx_goods_place,
                g.nx_goods_pinyin,
                g.nx_goods_py,
                g.nx_goods_father_id,
                g.nx_goods_sort,
                d.nx_department_id          'nx_department_id',
                d.nx_department_name        'nx_department_name',
                d.nx_department_father_id   'nx_department_father_id',
                d.nx_department_type        'nx_department_type',
                d.nx_department_sub_amount  'nx_department_sub_amount',
                d.nx_department_dis_id      'nx_department_dis_id',
                dd.nx_department_id         'dd_nx_department_id',
                dd.nx_department_name       'dd_nx_department_name',
                dd.nx_department_father_id  'dd_nx_department_father_id',
                dd.nx_department_type       'dd_nx_department_type',
                dd.nx_department_sub_amount 'dd_nx_department_sub_amount',
                dd.nx_department_dis_id     'dd_nx_department_dis_id',
                du.nx_DU_wx_nick_name,
                du.nx_DU_wx_avartra_url

        from nx_department_orders as o
                 left join nx_goods as g on g.nx_goods_id = o.nx_DO_nx_goods_id
                 left join nx_department as d on d.nx_department_id = o.nx_DO_department_id
                 left join nx_department as dd on d.nx_department_father_id = dd.nx_department_id
                 left join nx_department_user as du on du.nx_department_user_id = o.nx_DO_order_user_id
        where nx_DO_department_id = #{depId}
          and nx_DO_status &lt; 3
    </select>


    <select id="queryNewOrders" resultType="java.lang.Integer">
        select count(*)
        from nx_department_orders where nx_DO_department_id = #{nxDepartmentId} and nx_DO_status = -1
    </select>


    <select id="queryFatherNewOrders" resultType="java.lang.Integer">
        select count(*)
        from nx_department_orders where nx_DO_department_father_id = #{nxDepartmentId} and nx_DO_status = -1
    </select>


    <select id="queryDisOrdersTotal" resultType="java.lang.Integer">
        select count(*) from nx_department_orders    where nx_DO_department_father_id = #{depId}
                                       and nx_DO_distributer_id = #{disId}
                                        and nx_DO_status &lt; 3


        </select>
    <select id="queryIndependentOrdersByLimit" resultMap="applys">
        select * from nx_department_orders as dor
        left join nx_department_independent_goods as idg on idg.nx_department_independent_goods_id = dor.nx_DO_ind_goods_id
        left join nx_department_user as du on du.nx_department_user_id = dor.nx_DO_order_user_id
        where dor.nx_DO_department_father_id = #{depId} and dor.nx_DO_distributer_id is null
        and dor.nx_DO_status &lt; 3 order by  dor.nx_DO_status, dor.nx_DO_ind_goods_py

    </select>
    <select id="queryIndependentOrdersTotal" resultType="java.lang.Integer">
        select count(*)
        from nx_department_orders where nx_DO_department_father_id = #{depId} and nx_DO_distributer_id is null
        and nx_DO_status &lt; 3
    </select>


    <insert id="save" parameterType="com.nongxinle.entity.NxDepartmentOrdersEntity">
        insert into nx_department_orders
        (`nx_department_orders_id`,
         `nx_DO_nx_goods_id`,
         `nx_DO_nx_goods_father_id`,
         `nx_DO_dis_goods_id`,
         `nx_DO_dep_dis_goods_id`,
         `nx_DO_dep_dis_goods_price`,
         `nx_DO_quantity`,
         `nx_DO_standard`,
         `nx_DO_remark`,
         `nx_DO_weight`,
         `nx_DO_price`,
         `nx_DO_subtotal`,
         `nx_DO_department_id`,
         `nx_DO_department_father_id`,
         `nx_DO_distributer_id`,
         `nx_DO_bill_id`,
         `nx_DO_status`,
         `nx_DO_order_user_id`,
         `nx_DO_pick_user_id`,
         `nx_DO_account_user_id`,
         `nx_DO_purchase_user_id`,
         `nx_DO_buy_status`,
         `nx_DO_apply_date`,
         `nx_DO_arrive_date`,
         `nx_DO_purchase_goods_id`,
         `nx_DO_apply_only_date`,
         `nx_DO_apply_only_time`,
         `nx_DO_goods_type`,
         `nx_DO_ind_goods_id`,
         `nx_DO_ind_goods_py`,
         `nx_DO_operation_time`,
         `nx_DO_apply_what_day`,
         `nx_DO_is_agent`
         )
            values (#{nxDepartmentOrdersId},
                    #{nxDoNxGoodsId},
                    #{nxDoNxGoodsFatherId},
                    #{nxDoDisGoodsId},
                    #{nxDoDepDisGoodsId},
                    #{nxDoDepDisGoodsPrice},
                    #{nxDoQuantity},
                    #{nxDoStandard},
                    #{nxDoRemark},
                    #{nxDoWeight},
                    #{nxDoPrice},
                    #{nxDoSubtotal},
                    #{nxDoDepartmentId},
                    #{nxDoDepartmentFatherId},
                    #{nxDoDistributerId},
                    #{nxDoBillId},
                    #{nxDoStatus},
                    #{nxDoOrderUserId},
                    #{nxDoPickUserId},
                    #{nxDoAccountUserId},
                    #{nxDoPurchaseUserId},
                    #{nxDoBuyStatus},
                    #{nxDoApplyDate},
                    #{nxDoArriveDate},
                    #{nxDoPurchaseGoodsId},
                    #{nxDoApplyOnlyDate},
                    #{nxDoApplyOnlyTime},
                    #{nxDoGoodsType},
                    #{nxDoIndGoodsId},
                    #{nxDoIndGoodsPy},
                    #{nxDoOperationTime},
                    #{nxDoApplyWhatDay},
                    #{nxDoIsAgent}
            )
    </insert>

    <update id="update" parameterType="com.nongxinle.entity.NxDepartmentOrdersEntity">
        update nx_department_orders
        <set>
            <if test="nxDoNxGoodsId != null">`nx_DO_nx_goods_id` = #{nxDoNxGoodsId},</if>
            <if test="nxDoNxGoodsFatherId != null">`nx_DO_nx_goods_father_id` = #{nxDoNxGoodsFatherId},</if>
            <if test="nxDoDisGoodsId != null">`nx_DO_dis_goods_id` = #{nxDoDisGoodsId},</if>
            <if test="nxDoDepDisGoodsId != null">`nx_DO_dep_dis_goods_id` = #{nxDoDepDisGoodsId},</if>
            <if test="nxDoDepDisGoodsPrice != null">`nx_DO_dep_dis_goods_price` = #{nxDoDepDisGoodsPrice},</if>
            <if test="nxDoQuantity != null">`nx_DO_quantity` = #{nxDoQuantity},</if>
            <if test="nxDoStandard != null">`nx_DO_standard` = #{nxDoStandard},</if>
            <if test="nxDoRemark != null">`nx_DO_remark` = #{nxDoRemark},</if>
            <if test="nxDoWeight != null">`nx_DO_weight` = #{nxDoWeight},</if>
            <if test="nxDoPrice != null">`nx_DO_price` = #{nxDoPrice},</if>
            <if test="nxDoSubtotal != null">`nx_DO_subtotal` = #{nxDoSubtotal},</if>
            <if test="nxDoDepartmentId != null">`nx_DO_department_id` = #{nxDoDepartmentId},</if>
            <if test="nxDoDepartmentFatherId != null">`nx_DO_department_father_id` = #{nxDoDepartmentFatherId},</if>
            <if test="nxDoDistributerId != null">`nx_DO_distributer_id` = #{nxDoDistributerId},</if>
            <if test="nxDoBillId != null">`nx_DO_bill_id` = #{nxDoBillId},</if>
            <if test="nxDoStatus != null">`nx_DO_status` = #{nxDoStatus},</if>
            <if test="nxDoOrderUserId != null">`nx_DO_order_user_id` = #{nxDoOrderUserId},</if>
            <if test="nxDoPickUserId != null">`nx_DO_pick_user_id` = #{nxDoPickUserId},</if>
            <if test="nxDoAccountUserId != null">`nx_DO_account_user_id` = #{nxDoAccountUserId},</if>
            <if test="nxDoPurchaseUserId != null">`nx_DO_purchase_user_id` = #{nxDoPurchaseUserId},</if>
            <if test="nxDoBuyStatus != null">`nx_DO_buy_status` = #{nxDoBuyStatus},</if>
            <if test="nxDoApplyDate != null">`nx_DO_apply_date` = #{nxDoApplyDate},</if>
            <if test="nxDoPurchaseGoodsId != null">`nx_DO_purchase_goods_id` = #{nxDoPurchaseGoodsId},</if>
            <if test="nxDoApplyOnlyDate != null">`nx_DO_apply_only_date` = #{nxDoApplyOnlyDate},</if>
            <if test="nxDoApplyOnlyTime != null">`nx_DO_apply_only_time` = #{nxDoApplyOnlyTime},</if>
            <if test="nxDoGoodsType != null">`nx_DO_goods_type` = #{nxDoGoodsType},</if>
            <if test="nxDoIndGoodsId != null">`nx_DO_ind_goods_id` = #{nxDoIndGoodsId},</if>
            <if test="nxDoIndGoodsPy != null">`nx_DO_ind_goods_py` = #{nxDoIndGoodsPy},</if>
            <if test="nxDoOperationTime != null">`nx_DO_operation_time` = #{nxDoOperationTime},</if>
            <if test="nxDoApplyWhatDay != null">`nx_DO_apply_what_day` = #{nxDoApplyWhatDay},</if>
            <if test="nxDoIsAgent != null">`nx_DO_is_agent` = #{nxDoIsAgent},</if>
            <if test="nxDoArriveDate != null">`nx_DO_arrive_date` = #{nxDoArriveDate}</if>
        </set>
        where nx_department_orders_id = #{nxDepartmentOrdersId}
    </update>

    <delete id="delete">
        delete
        from nx_department_orders
        where nx_department_orders_id = #{value}
    </delete>

    <delete id="deleteBatch">
        delete from nx_department_orders where nx_department_orders_id in
        <foreach item="nxDepartmentOrdersId" collection="array" open="(" separator="," close=")">
            #{nxDepartmentOrdersId}
        </foreach>
    </delete>

</mapper>